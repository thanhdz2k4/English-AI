# ðŸ“ Cáº¥u TrÃºc Dá»± Ãn English AI

## Tá»•ng Quan Kiáº¿n TrÃºc

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND (ReactJS)                             â”‚
â”‚                         Port: 3000 (Development)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API GATEWAY (Spring Cloud)                       â”‚
â”‚                              Port: 8080                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Writing Service  â”‚   â”‚   User Service    â”‚   â”‚  AI Service       â”‚
â”‚    Port: 8081     â”‚   â”‚    Port: 8082     â”‚   â”‚   Port: 8083      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                       â”‚                       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PostgreSQL Database                               â”‚
â”‚                              Port: 5432                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Frontend (ReactJS)

```
frontend/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/                     # Static assets (images, fonts)
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚       â”œâ”€â”€ global.css
â”‚   â”‚       â””â”€â”€ variables.css
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                 # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Button.css
â”‚   â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â”‚   â””â”€â”€ Loading/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ writing/                # Writing feature components
â”‚   â”‚       â”œâ”€â”€ TopicInput/
â”‚   â”‚       â”‚   â”œâ”€â”€ TopicInput.jsx
â”‚   â”‚       â”‚   â””â”€â”€ TopicInput.css
â”‚   â”‚       â”œâ”€â”€ ChatMessage/
â”‚   â”‚       â”‚   â”œâ”€â”€ ChatMessage.jsx
â”‚   â”‚       â”‚   â””â”€â”€ ChatMessage.css
â”‚   â”‚       â”œâ”€â”€ WritingArea/
â”‚   â”‚       â”‚   â”œâ”€â”€ WritingArea.jsx
â”‚   â”‚       â”‚   â””â”€â”€ WritingArea.css
â”‚   â”‚       â”œâ”€â”€ FeedbackPanel/
â”‚   â”‚       â”‚   â”œâ”€â”€ FeedbackPanel.jsx
â”‚   â”‚       â”‚   â””â”€â”€ FeedbackPanel.css
â”‚   â”‚       â”œâ”€â”€ ImproveSuggestion/
â”‚   â”‚       â”‚   â”œâ”€â”€ ImproveSuggestion.jsx
â”‚   â”‚       â”‚   â””â”€â”€ ImproveSuggestion.css
â”‚   â”‚       â””â”€â”€ MistakeHistory/
â”‚   â”‚           â”œâ”€â”€ MistakeHistory.jsx
â”‚   â”‚           â””â”€â”€ MistakeHistory.css
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                      # Page components
â”‚   â”‚   â”œâ”€â”€ HomePage/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomePage.jsx
â”‚   â”‚   â”‚   â””â”€â”€ HomePage.css
â”‚   â”‚   â”œâ”€â”€ WritingPracticePage/
â”‚   â”‚   â”‚   â”œâ”€â”€ WritingPracticePage.jsx
â”‚   â”‚   â”‚   â””â”€â”€ WritingPracticePage.css
â”‚   â”‚   â””â”€â”€ MistakeReviewPage/
â”‚   â”‚       â”œâ”€â”€ MistakeReviewPage.jsx
â”‚   â”‚       â””â”€â”€ MistakeReviewPage.css
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                      # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ useWritingSession.js
â”‚   â”‚   â”œâ”€â”€ useAIFeedback.js
â”‚   â”‚   â””â”€â”€ useMistakeHistory.js
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                   # API service calls
â”‚   â”‚   â”œâ”€â”€ api.js                  # Axios instance configuration
â”‚   â”‚   â”œâ”€â”€ writingService.js
â”‚   â”‚   â”œâ”€â”€ userService.js
â”‚   â”‚   â””â”€â”€ aiService.js
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                      # State management (Redux/Zustand)
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ writingSlice.js
â”‚   â”‚   â””â”€â”€ userSlice.js
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                      # Utility functions
â”‚   â”‚   â”œâ”€â”€ constants.js
â”‚   â”‚   â”œâ”€â”€ helpers.js
â”‚   â”‚   â””â”€â”€ validators.js
â”‚   â”‚
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ App.css
â”‚   â””â”€â”€ index.js
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ .env
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## 2. Backend Microservices (Java Spring Boot)

### 2.1. API Gateway

```
api-gateway/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/englishai/gateway/
â”‚       â”‚       â”œâ”€â”€ ApiGatewayApplication.java
â”‚       â”‚       â”œâ”€â”€ config/
â”‚       â”‚       â”‚   â”œâ”€â”€ GatewayConfig.java
â”‚       â”‚       â”‚   â”œâ”€â”€ CorsConfig.java
â”‚       â”‚       â”‚   â””â”€â”€ SecurityConfig.java
â”‚       â”‚       â””â”€â”€ filter/
â”‚       â”‚           â””â”€â”€ AuthenticationFilter.java
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application.yml
â”œâ”€â”€ pom.xml
â””â”€â”€ Dockerfile
```

### 2.2. Writing Service

```
writing-service/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/englishai/writing/
â”‚       â”‚       â”œâ”€â”€ WritingServiceApplication.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â”œâ”€â”€ SessionController.java
â”‚       â”‚       â”‚   â”œâ”€â”€ ConversationController.java
â”‚       â”‚       â”‚   â””â”€â”€ MistakeController.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”‚   â”œâ”€â”€ SessionService.java
â”‚       â”‚       â”‚   â”œâ”€â”€ ConversationService.java
â”‚       â”‚       â”‚   â””â”€â”€ MistakeService.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ repository/
â”‚       â”‚       â”‚   â”œâ”€â”€ SessionRepository.java
â”‚       â”‚       â”‚   â”œâ”€â”€ ConversationRepository.java
â”‚       â”‚       â”‚   â””â”€â”€ MistakeRepository.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ entity/
â”‚       â”‚       â”‚   â”œâ”€â”€ WritingSession.java
â”‚       â”‚       â”‚   â”œâ”€â”€ Conversation.java
â”‚       â”‚       â”‚   â””â”€â”€ UserMistake.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â”œâ”€â”€ request/
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ StartSessionRequest.java
â”‚       â”‚       â”‚   â”‚   â””â”€â”€ SubmitAnswerRequest.java
â”‚       â”‚       â”‚   â””â”€â”€ response/
â”‚       â”‚       â”‚       â”œâ”€â”€ SessionResponse.java
â”‚       â”‚       â”‚       â”œâ”€â”€ FeedbackResponse.java
â”‚       â”‚       â”‚       â””â”€â”€ MistakeResponse.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ exception/
â”‚       â”‚       â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚       â”‚       â”‚   â””â”€â”€ CustomExceptions.java
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€â”€ config/
â”‚       â”‚           â””â”€â”€ AppConfig.java
â”‚       â”‚
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application.yml
â”‚           â””â”€â”€ db/migration/        # Flyway migrations
â”‚               â”œâ”€â”€ V1__create_sessions_table.sql
â”‚               â”œâ”€â”€ V2__create_conversations_table.sql
â”‚               â””â”€â”€ V3__create_mistakes_table.sql
â”‚
â”œâ”€â”€ pom.xml
â””â”€â”€ Dockerfile
```

### 2.3. User Service

```
user-service/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/englishai/user/
â”‚       â”‚       â”œâ”€â”€ UserServiceApplication.java
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â”œâ”€â”€ AuthController.java
â”‚       â”‚       â”‚   â””â”€â”€ UserController.java
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”‚   â”œâ”€â”€ AuthService.java
â”‚       â”‚       â”‚   â””â”€â”€ UserService.java
â”‚       â”‚       â”œâ”€â”€ repository/
â”‚       â”‚       â”‚   â””â”€â”€ UserRepository.java
â”‚       â”‚       â”œâ”€â”€ entity/
â”‚       â”‚       â”‚   â””â”€â”€ User.java
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â”œâ”€â”€ LoginRequest.java
â”‚       â”‚       â”‚   â”œâ”€â”€ RegisterRequest.java
â”‚       â”‚       â”‚   â””â”€â”€ UserResponse.java
â”‚       â”‚       â”œâ”€â”€ security/
â”‚       â”‚       â”‚   â”œâ”€â”€ JwtTokenProvider.java
â”‚       â”‚       â”‚   â””â”€â”€ JwtAuthenticationFilter.java
â”‚       â”‚       â””â”€â”€ config/
â”‚       â”‚           â””â”€â”€ SecurityConfig.java
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application.yml
â”‚           â””â”€â”€ db/migration/
â”‚               â””â”€â”€ V1__create_users_table.sql
â”œâ”€â”€ pom.xml
â””â”€â”€ Dockerfile
```

### 2.4. AI Service

```
ai-service/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/englishai/ai/
â”‚       â”‚       â”œâ”€â”€ AIServiceApplication.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â””â”€â”€ AIController.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”‚   â”œâ”€â”€ AIService.java
â”‚       â”‚       â”‚   â”œâ”€â”€ GrammarCheckService.java
â”‚       â”‚       â”‚   â”œâ”€â”€ ConversationGeneratorService.java
â”‚       â”‚       â”‚   â””â”€â”€ ImprovementSuggestionService.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ client/
â”‚       â”‚       â”‚   â””â”€â”€ OpenAIClient.java     # Hoáº·c client cho AI model khÃ¡c
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â”œâ”€â”€ request/
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ GenerateQuestionRequest.java
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ CheckGrammarRequest.java
â”‚       â”‚       â”‚   â”‚   â””â”€â”€ ImproveSentenceRequest.java
â”‚       â”‚       â”‚   â””â”€â”€ response/
â”‚       â”‚       â”‚       â”œâ”€â”€ QuestionResponse.java
â”‚       â”‚       â”‚       â”œâ”€â”€ GrammarFeedbackResponse.java
â”‚       â”‚       â”‚       â””â”€â”€ ImprovementResponse.java
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ prompt/
â”‚       â”‚       â”‚   â””â”€â”€ PromptTemplates.java  # CÃ¡c prompt template cho AI
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€â”€ config/
â”‚       â”‚           â””â”€â”€ AIConfig.java
â”‚       â”‚
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application.yml
â”‚
â”œâ”€â”€ pom.xml
â””â”€â”€ Dockerfile
```

---

## 3. Database Schema (PostgreSQL)

```
database/
â”œâ”€â”€ init/
â”‚   â””â”€â”€ init.sql                    # Initial database setup
â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ V1__create_users.sql
â”‚   â”œâ”€â”€ V2__create_writing_sessions.sql
â”‚   â”œâ”€â”€ V3__create_conversations.sql
â”‚   â””â”€â”€ V4__create_user_mistakes.sql
â””â”€â”€ docker-compose.yml
```

---

## 4. Infrastructure & DevOps

```
infrastructure/
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ docker-compose.yml          # Development environment
â”‚   â”œâ”€â”€ docker-compose.prod.yml     # Production environment
â”‚   â””â”€â”€ .env.example
â”‚
â”œâ”€â”€ railway/                        # Railway deployment configs
â”‚   â”œâ”€â”€ railway.json
â”‚   â””â”€â”€ Procfile
â”‚
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf                  # Reverse proxy configuration
â”‚
â””â”€â”€ scripts/
    â”œâ”€â”€ build.sh
    â”œâ”€â”€ deploy.sh
    â””â”€â”€ seed-data.sh
```

---

## 5. Shared Libraries

```
shared/
â”œâ”€â”€ common-dto/
â”‚   â”œâ”€â”€ src/main/java/com/englishai/common/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â””â”€â”€ ApiResponse.java
â”‚   â”‚   â””â”€â”€ exception/
â”‚   â”‚       â””â”€â”€ BaseException.java
â”‚   â””â”€â”€ pom.xml
â”‚
â””â”€â”€ common-utils/
    â”œâ”€â”€ src/main/java/com/englishai/utils/
    â”‚   â”œâ”€â”€ DateUtils.java
    â”‚   â””â”€â”€ StringUtils.java
    â””â”€â”€ pom.xml
```

---

## 6. Root Project Structure

```
english-ai/
â”œâ”€â”€ frontend/                       # ReactJS Frontend
â”œâ”€â”€ api-gateway/                    # Spring Cloud Gateway
â”œâ”€â”€ writing-service/                # Writing Feature Service
â”œâ”€â”€ user-service/                   # Authentication & User Management
â”œâ”€â”€ ai-service/                     # AI Integration Service
â”œâ”€â”€ shared/                         # Shared Libraries
â”œâ”€â”€ infrastructure/                 # DevOps & Deployment
â”œâ”€â”€ docs/                           # Documentation
â”‚   â”œâ”€â”€ ba.txt                      # Business Analysis
â”‚   â”œâ”€â”€ project-structure.md        # This file
â”‚   â”œâ”€â”€ implementation-guide.md     # Implementation Guide
â”‚   â”œâ”€â”€ progress-tracking.md        # Progress Tracking
â”‚   â”œâ”€â”€ api-specification.md        # API Documentation
â”‚   â””â”€â”€ database-design.md          # Database Design
â”œâ”€â”€ .gitignore
â”œâ”€â”€ pom.xml                         # Parent POM (Maven)
â””â”€â”€ README.md
```

---

## Ghi ChÃº Quan Trá»ng

> [!IMPORTANT]
> **Tech Stack:**
> - **Frontend**: ReactJS
> - **Backend**: Java Spring Boot (Microservices)
> - **Database**: PostgreSQL
> - **Deployment**: Railway
> - **Architecture**: Microservices + Data Mesh

> [!NOTE]
> **Ports máº·c Ä‘á»‹nh:**
> - Frontend: 3000
> - API Gateway: 8080
> - Writing Service: 8081
> - User Service: 8082
> - AI Service: 8083
> - PostgreSQL: 5432
